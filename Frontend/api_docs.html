{% extends "base.html" %}

{% block title %}API Documentation - RLG DATA{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">RLG DATA API Documentation</h2>
    
    <!-- Introduction Section -->
    <div class="card mb-4">
        <div class="card-body">
            <h4 class="card-title">Introduction</h4>
            <p>
                Welcome to the RLG DATA API documentation. This guide provides all the necessary information 
                to integrate your applications with RLG DATA, including endpoints, authentication, and example 
                requests.
            </p>
        </div>
    </div>

    <!-- Authentication Section -->
    <div class="card mb-4">
        <div class="card-body">
            <h4 class="card-title">Authentication</h4>
            <p>
                RLG DATA APIs use <strong>token-based authentication</strong>. You will need to include your 
                API token in the header of every request.
            </p>
            <pre><code>Authorization: Bearer YOUR_API_TOKEN</code></pre>
            <p>To generate an API token, visit the <a href="{{ url_for('integrations') }}">Integrations</a> page.</p>
        </div>
    </div>

    <!-- API Endpoints Section -->
    <div class="card mb-4">
        <div class="card-body">
            <h4 class="card-title">API Endpoints</h4>
            
            <h5>1. Get All Projects</h5>
            <p><strong>Endpoint:</strong> <code>GET /api/projects</code></p>
            <p>Retrieve all projects for the authenticated user.</p>
            <pre><code>
curl -X GET https://api.rlgdata.com/api/projects \
-H "Authorization: Bearer YOUR_API_TOKEN"
            </code></pre>

            <h5>2. Get Project Details</h5>
            <p><strong>Endpoint:</strong> <code>GET /api/projects/&lt;project_id&gt;</code></p>
            <p>Retrieve the details of a specific project.</p>
            <pre><code>
curl -X GET https://api.rlgdata.com/api/projects/123 \
-H "Authorization: Bearer YOUR_API_TOKEN"
            </code></pre>

            <h5>3. Create a New Project</h5>
            <p><strong>Endpoint:</strong> <code>POST /api/projects</code></p>
            <p>Create a new project for the authenticated user.</p>
            <pre><code>
curl -X POST https://api.rlgdata.com/api/projects \
-H "Authorization: Bearer YOUR_API_TOKEN" \
-H "Content-Type: application/json" \
-d '{
  "name": "My New Project",
  "keywords": "data, analytics",
  "description": "A description of the project"
}'
            </code></pre>

            <h5>4. Delete a Project</h5>
            <p><strong>Endpoint:</strong> <code>DELETE /api/projects/&lt;project_id&gt;</code></p>
            <p>Delete a specific project by its ID.</p>
            <pre><code>
curl -X DELETE https://api.rlgdata.com/api/projects/123 \
-H "Authorization: Bearer YOUR_API_TOKEN"
            </code></pre>
        </div>
    </div>

    <!-- Error Codes Section -->
    <div class="card mb-4">
        <div class="card-body">
            <h4 class="card-title">Error Codes</h4>
            <table class="table">
                <thead>
                    <tr>
                        <th>Status Code</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>200</td>
                        <td>OK - Request succeeded</td>
                    </tr>
                    <tr>
                        <td>201</td>
                        <td>Created - Resource created successfully</td>
                    </tr>
                    <tr>
                        <td>400</td>
                        <td>Bad Request - Invalid input data</td>
                    </tr>
                    <tr>
                        <td>401</td>
                        <td>Unauthorized - Invalid or missing API token</td>
                    </tr>
                    <tr>
                        <td>404</td>
                        <td>Not Found - Requested resource does not exist</td>
                    </tr>
                    <tr>
                        <td>500</td>
                        <td>Internal Server Error - An error occurred on the server</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Sandbox and Testing Tools Section -->
    <div class="card mb-4">
        <div class="card-body">
            <h4 class="card-title">Sandbox & Testing</h4>
            <p>Use the API sandbox to test your integrations. Visit <a href="https://sandbox.rlgdata.com">https://sandbox.rlgdata.com</a>.</p>
            <p>You can also use tools like Postman or cURL for testing your API requests.</p>
        </div>
    </div>

    <!-- Resources Section -->
    <div class="card mb-4">
        <div class="card-body">
            <h4 class="card-title">Additional Resources</h4>
            <ul>
                <li><a href="{{ url_for('guide', guide_id=1) }}">Getting Started with RLG DATA API</a></li>
                <li><a href="{{ url_for('guide', guide_id=2) }}">API Best Practices</a></li>
                <li><a href="{{ url_for('support') }}">Contact Support</a> for further assistance.</li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}
